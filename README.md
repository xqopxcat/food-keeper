# ğŸ¥¬ Food Keeper - æ™ºèƒ½é£Ÿæç®¡ç†ç³»çµ±

ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„é£Ÿæä¿å­˜æœŸé™ç®¡ç†æ‡‰ç”¨ï¼Œçµåˆ AI æ™ºèƒ½è­˜åˆ¥ã€ä¿å­˜æœŸé™é æ¸¬å’Œåˆ°æœŸæé†’åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ¤– AI æ™ºèƒ½è­˜åˆ¥
- **ä¸»è¦æœå‹™**: Google Vision API - å¿«é€Ÿã€æº–ç¢ºã€æ¯æœˆ1000æ¬¡å…è²»
- **é£Ÿææ‹ç…§è­˜åˆ¥**: ä½¿ç”¨ Google Vision é€²è¡Œç‰©é«”è­˜åˆ¥å’Œæ¨™ç±¤æª¢æ¸¬
- **OCR æ–‡å­—è¾¨è­˜**: Google Vision çš„ OCR å¼•æ“ï¼Œé©åˆè®€å–åŒ…è£é£Ÿå“è³‡è¨Š
- **å‚™ç”¨æœå‹™**: OpenAI GPT-4V (ç¨‹å¼ç¢¼ä¿ç•™ï¼Œå¯é‡æ–°å•Ÿç”¨)
- **æ™ºèƒ½é™ç´š**: Google Vision ä¸å¯ç”¨æ™‚è‡ªå‹•åˆ‡æ›åˆ° OpenAI

### ğŸ“± æ ¸å¿ƒåŠŸèƒ½
- **åº«å­˜ç®¡ç†**: å®Œæ•´çš„é£Ÿæåº«å­˜è¿½è¹¤å’Œç®¡ç†
- **ä¿å­˜æœŸé™é æ¸¬**: åŸºæ–¼é£Ÿæé¡å‹å’Œå­˜æ”¾æ¢ä»¶çš„æ™ºèƒ½é æ¸¬
- **åˆ°æœŸæé†’**: æ¨æ’­é€šçŸ¥æé†’å³å°‡åˆ°æœŸçš„é£Ÿæ
- **æ¢ç¢¼æƒæ**: å¿«é€Ÿæ·»åŠ åŒ…è£é£Ÿå“åˆ°åº«å­˜

### ğŸ¯ ä½¿ç”¨è€…é«”é©—
- **ç›´è¦ºåŒ–ä»‹é¢**: ç°¡æ½”æ˜“ç”¨çš„ç¾ä»£åŒ–è¨­è¨ˆ
- **ç›¸æ©Ÿæ•´åˆ**: æ”¯æ´å‰å¾Œé¡é ­åˆ‡æ›å’Œé«˜ç•«è³ªæ‹æ”
- **é›¢ç·šåŠŸèƒ½**: PWA æ”¯æ´ï¼Œå¯åœ¨é›¢ç·šç‹€æ…‹ä¸‹ä½¿ç”¨åŸºæœ¬åŠŸèƒ½
- **è·¨å¹³å°**: éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿å’Œæ¡Œé¢

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+
- MongoDB
- OpenAI API Key (å¯é¸)
- Google Cloud Vision API (å¯é¸)

### 1. å®‰è£ä¾è³´
```bash
# å®‰è£ä¼ºæœå™¨ç«¯ä¾è³´
cd server
npm install

# å®‰è£å®¢æˆ¶ç«¯ä¾è³´  
cd ../client
npm install
```

### 2. AI API è¨­å®š
> ğŸ¯ **ç•¶å‰ç­–ç•¥**: å°ˆæ³¨ä½¿ç”¨ Google Vision API (æ¯æœˆ1000æ¬¡å…è²»)  
> ğŸ”„ **å‚™ç”¨æ–¹æ¡ˆ**: OpenAI API (ç¨‹å¼ç¢¼ä¿ç•™ï¼Œå¯é‡æ–°å•Ÿç”¨)

#### æ¨è–¦è¨­å®š: Google Vision API
ğŸ“‹ **[Google Vision è¨­å®šæŒ‡å— â†’](./QUICK_SETUP_CHECKLIST.md#google-vision-api-è¨­å®š-10åˆ†é˜)**

#### è©³ç´°è¨­å®šæ–‡ä»¶
ğŸ“– **[API ç”³è«‹èˆ‡è¨­å®šæŒ‡å— â†’](./API_SETUP_GUIDE.md)**

#### ç’°å¢ƒè®Šæ•¸è¨­å®š
```bash
cd server
cp .env.example .env

# ç·¨è¼¯ .env æª”æ¡ˆï¼Œä¸»è¦å¡«å…¥ Google Vision è¨­å®š
GOOGLE_CLOUD_PROJECT_ID=ä½ çš„Googleå°ˆæ¡ˆID
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# å¯é¸: OpenAI å‚™ç”¨è¨­å®š
OPENAI_API_KEY=sk-proj-ä½ çš„OpenAIé‡‘é‘°  
```

#### æ¸¬è©¦è…³æœ¬
```bash
cd server

# æ¸¬è©¦ Google Vision (æ¨è–¦)
npm run test:google

# æ¸¬è©¦æ‰€æœ‰ API è¨­å®š
npm run test:api

# æ¸¬è©¦ OpenAI (å‚™ç”¨)
npm run test:openai
```

### 4. å•Ÿå‹•æ‡‰ç”¨
```bash
# å•Ÿå‹•ä¼ºæœå™¨ (çµ‚ç«¯æ©Ÿ 1)
cd server
npm run dev

# å•Ÿå‹•å®¢æˆ¶ç«¯ (çµ‚ç«¯æ©Ÿ 2)  
cd client
npm run dev
```

æ‡‰ç”¨å°‡åœ¨ä»¥ä¸‹ä½å€é‹è¡Œï¼š
- ğŸŒ å‰ç«¯: http://localhost:5173
- ğŸ”— å¾Œç«¯ API: http://localhost:4000

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- **React 18**: ä½¿ç”¨ Hooks å’Œç¾ä»£åŒ–é–‹ç™¼æ¨¡å¼
- **RTK Query**: é«˜æ•ˆçš„è³‡æ–™ç²å–å’Œå¿«å–
- **Vite**: å¿«é€Ÿçš„å»ºç½®å·¥å…·
- **PWA**: é›¢ç·šæ”¯æ´å’ŒåŸç”Ÿæ‡‰ç”¨é«”é©—

### å¾Œç«¯æŠ€è¡“
- **Node.js + Express**: RESTful API æœå‹™
- **MongoDB + Mongoose**: éˆæ´»çš„ NoSQL è³‡æ–™åº«
- **Google Vision API**: ä¸»è¦ AI æœå‹™ï¼Œæä¾›ç‰©é«”è­˜åˆ¥å’Œ OCR
- **OpenAI GPT-4V**: å‚™ç”¨ AI æœå‹™ (ç¨‹å¼ç¢¼ä¿ç•™)

### AI æœå‹™ç­–ç•¥
```javascript
// ç•¶å‰ AI è·¯ç”±ç­–ç•¥
const strategy = {
  primary: 'google',        // ä¸»è¦ä½¿ç”¨ Google Vision
  fallback: 'openai',       // OpenAI ä½œç‚ºå‚™æ´
  benefits: {
    cost: 'æ¯æœˆ1000æ¬¡å…è²»',
    speed: 'å¿«é€Ÿå›æ‡‰',
    ocr: 'OCR æ€§èƒ½å„ªç§€'
  }
};
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
food-keeper/
â”œâ”€â”€ ğŸ“± client/              # React å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å¯é‡ç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ store/          # RTK ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ services/       # API æœå‹™
â”‚   â””â”€â”€ public/             # éœæ…‹è³‡æº
â”‚
â”œâ”€â”€ ğŸ”§ server/              # Node.js å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models/         # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/       # æ¥­å‹™é‚è¼¯
â”‚   â””â”€â”€ data/               # ç¨®å­è³‡æ–™
â”‚
â”œâ”€â”€ ğŸ“– docs/                # æ–‡ä»¶å’ŒæŒ‡å—
â”‚   â”œâ”€â”€ API_SETUP_GUIDE.md  # API è¨­å®šè©³ç´°æŒ‡å—
â”‚   â””â”€â”€ QUICK_SETUP_CHECKLIST.md # å¿«é€Ÿè¨­å®šæ¸…å–®
â”‚
â””â”€â”€ ğŸ§ª test-api-connection.js # API é€£æ¥æ¸¬è©¦å·¥å…·
```

## ğŸ¯ API ç«¯é»

### é£Ÿæè­˜åˆ¥ API
```http
POST /api/ai/identify        # AI é£Ÿæè­˜åˆ¥
POST /api/ai/ocr            # OCR æ–‡å­—è¾¨è­˜  
POST /api/ai/compare        # æ¯”è¼ƒä¸åŒ AI çµæœ
GET  /api/ai/status         # AI æœå‹™ç‹€æ…‹
```

### åº«å­˜ç®¡ç† API
```http
GET    /api/inventory       # ç²å–åº«å­˜æ¸…å–®
POST   /api/inventory       # æ–°å¢åº«å­˜é …ç›®
PUT    /api/inventory/:id   # æ›´æ–°åº«å­˜é …ç›®
DELETE /api/inventory/:id   # åˆªé™¤åº«å­˜é …ç›®
```

### æŸ¥è©¢æœå‹™ API
```http
POST /api/lookup            # é£Ÿæè³‡è¨ŠæŸ¥è©¢
GET  /api/rules             # ä¿å­˜è¦å‰‡æŸ¥è©¢
POST /api/estimate          # ä¿å­˜æœŸé™é ä¼°
```

## ğŸ’° æˆæœ¬èªªæ˜

### ğŸ¯ ç•¶å‰ç­–ç•¥: Google Vision API
- **æ¯æœˆå…è²»**: 1000 æ¬¡è­˜åˆ¥
- **å¹´åº¦å…è²»**: 12,000 æ¬¡è­˜åˆ¥  
- **è¶…å‡ºè²»ç”¨**: $1.50/1000æ¬¡
- **é©ç”¨å ´æ™¯**: å¤§å¤šæ•¸å€‹äººå’Œå°åœ˜éšŠä½¿ç”¨

### ğŸ’¡ æˆæœ¬å„ªå‹¢
```bash
è¼•åº¦ä½¿ç”¨ (< 1000æ¬¡/æœˆ): å®Œå…¨å…è²»
ä¸­åº¦ä½¿ç”¨ (1000-3000æ¬¡/æœˆ): $3/æœˆ
é‡åº¦ä½¿ç”¨ (> 3000æ¬¡/æœˆ): $6-10/æœˆ

vs. æ··åˆç­–ç•¥å¯ç¯€çœ 60-80% æˆæœ¬
```

### ğŸ”„ å‚™ç”¨æ–¹æ¡ˆ: OpenAI GPT-4o-mini  
- **æ¯æ¬¡è­˜åˆ¥**: ~$0.002
- **1000æ¬¡/æœˆ**: ~$2 ç¾å…ƒ
- **å„ªå‹¢**: æ›´é«˜æº–ç¢ºåº¦ï¼Œæ›´å¥½çš„å°ç£é£Ÿæç†è§£
- **ç‹€æ…‹**: ç¨‹å¼ç¢¼ä¿ç•™ï¼Œå¯éš¨æ™‚é‡æ–°å•Ÿç”¨

## ğŸ§ª é–‹ç™¼å’Œæ¸¬è©¦

### æ¸¬è©¦ API é€£æ¥
```bash
node test-api-connection.js --help    # æŸ¥çœ‹æ‰€æœ‰é¸é …
node test-api-connection.js           # æ¸¬è©¦æ‰€æœ‰ API
node test-api-connection.js --openai  # åªæ¸¬è©¦ OpenAI
node test-api-connection.js --google  # åªæ¸¬è©¦ Google Vision
```

### é–‹ç™¼æ¨¡å¼
```bash
# ä¼ºæœå™¨ç†±é‡è¼‰
cd server && npm run dev

# å®¢æˆ¶ç«¯ç†±é‡è¼‰
cd client && npm run dev

# è³‡æ–™åº«ç¨®å­è³‡æ–™
cd server && npm run seed
```

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork é€™å€‹å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“ æˆæ¬Šæ¢æ¬¾

æ­¤å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è¬

- [OpenAI](https://openai.com/) - æä¾›å¼·å¤§çš„ GPT-4V è¦–è¦ºè­˜åˆ¥èƒ½åŠ›
- [Google Cloud Vision](https://cloud.google.com/vision) - æä¾›å¿«é€Ÿçš„ OCR å’Œç‰©é«”æª¢æ¸¬
- [Open Food Facts](https://world.openfoodfacts.org/) - æä¾›é–‹æ”¾çš„é£Ÿå“è³‡æ–™åº«

---

**é–‹å§‹ä½¿ç”¨ Food Keeperï¼Œè®“ AI å¹«ä½ ç®¡ç†é£Ÿæï¼Œæ¸›å°‘æµªè²»ï¼** ğŸŒ±âœ¨